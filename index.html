<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NOIR — Shop</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="logo">NOIR</div>
    <button class="menu-toggle" aria-label="Open menu">☰</button>
    <nav class="nav-desktop">
      <a href="index.html" class="active">Shop</a>
      <a href="collections.html">Collections</a>
      <a href="atelier.html">Atelier</a>
      <a href="journal.html">Journal</a>
      <a href="cart.html">Cart (0)</a>
    </nav>
  </header>

  <!-- MOBILE MENU -->
  <nav class="nav-mobile" id="navMenu">
    <button class="close-menu" aria-label="Close menu">×</button>
    <ul>
      <li><a href="index.html">Shop</a></li>
      <li><a href="collections.html">Collections</a></li>
      <li><a href="atelier.html">Atelier</a></li>
      <li><a href="journal.html">Journal</a></li>
      <li><a href="cart.html">Cart (0)</a></li>
    </ul>
  </nav>

  <!-- Full-screen background slideshow with slow scroll effect -->
  <div class="background-slideshow">
    <div class="slide active" style="background-image: url('https://i.ibb.co/JWyMK2qD/1.jpg');"></div>
    <div class="slide" style="background-image: url('https://i.ibb.co/jnphYY1/2.jpg');"></div>
    <div class="slide" style="background-image: url('https://i.ibb.co/j9YQ4jbS/3.jpg');"></div>
  </div>

  <main>
    <section class="hero">
      <h1>NOIR</h1>
      <p>Timeless monochrome essentials</p>
      <a href="#products" class="btn">Shop Now</a>
    </section>

    <section class="section" id="products">
      <h2 class="section-title animate-on-scroll">Featured</h2>
      <div class="grid">
        <div class="card animate-on-scroll">
          <div class="card-image"></div>
          <div class="card-content">
            <h3>Black Wool Coat</h3>
            <p>Structured silhouette</p>
            <div class="price">$480</div>
            <button class="btn add-to-cart" data-name="Black Wool Coat" data-description="Structured silhouette" data-price="480">Add to Cart</button>
          </div>
        </div>

        <div class="card animate-on-scroll">
          <div class="card-image"></div>
          <div class="card-content">
            <h3>White Oversized Shirt</h3>
            <p>Premium cotton blend</p>
            <div class="price">$145</div>
            <button class="btn add-to-cart" data-name="White Oversized Shirt" data-description="Premium cotton blend" data-price="145">Add to Cart</button>
          </div>
        </div>

        <div class="card animate-on-scroll">
          <div class="card-image"></div>
          <div class="card-content">
            <h3>Black Tailored Trousers</h3>
            <p>High-waisted fit</p>
            <div class="price">$220</div>
            <button class="btn add-to-cart" data-name="Black Tailored Trousers" data-description="High-waisted fit" data-price="220">Add to Cart</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 NOIR — All Rights Reserved</p>
  </footer>

  <!-- Toast Notification -->
  <div id="toast" class="toast">Added to cart!</div>

  <script>
    // Background slideshow
    const slides = document.querySelectorAll('.slide');
    let currentSlide = 0;

    function showNextSlide() {
      slides[currentSlide].classList.remove('active');
      currentSlide = (currentSlide + 1) % slides.length;
      slides[currentSlide].classList.add('active');
    }

    setInterval(showNextSlide, 45000); // 45 seconds

    // Update cart count in header
    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('cart') || '[]');
      const count = cart.reduce((sum, item) => sum + item.quantity, 0);
      const cartLinks = document.querySelectorAll('a[href="cart.html"]');
      cartLinks.forEach(link => {
        link.textContent = `Cart (${count})`;
      });
    }
    updateCartCount();
    window.addEventListener('storage', updateCartCount);

    // Add-to-cart with toast
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('add-to-cart')) {
        const item = {
          name: e.target.dataset.name,
          description: e.target.dataset.description,
          price: parseFloat(e.target.dataset.price),
          quantity: 1
        };
        let cart = JSON.parse(localStorage.getItem('cart') || '[]');
        cart.push(item);
        localStorage.setItem('cart', JSON.stringify(cart));
        showToast();
        updateCartCount();
      }
    });

    function showToast() {
      const toast = document.getElementById('toast');
      if (!toast) return;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
    }

    // Header scroll effect
    window.addEventListener('scroll', () => {
      document.querySelector('header').classList.toggle('scrolled', window.scrollY > 100);
    });

    // Mobile menu toggle
    const menuToggle = document.querySelector('.menu-toggle');
    const navMenu = document.querySelector('#navMenu');
    const closeMenu = document.querySelector('.close-menu');

    menuToggle.addEventListener('click', () => navMenu.classList.add('active'));
    closeMenu.addEventListener('click', () => navMenu.classList.remove('active'));

    // Scroll animations
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('visible');
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.animate-on-scroll').forEach(el => observer.observe(el));
  </script>
</body>
</html>
